<!DOCTYPE html>
<html>

<head>
    <meta charset="utf-8" />
    <title>HW</title>
    <!--<link rel="stylesheet" href="/client/css/style.css" />-->
    <script src="https://code.jquery.com/jquery-3.1.1.js"></script>
    <style>
        .classtd {
            border-style: solid;
            border: 1px;
        }
    </style>
    <script>
        // Add your javascript here

        $(document).ready(function() {

            var data = [{
                "name": "bob",
                "age": 35,
                "address": {
                    "street": "6565 sunset blvd",
                    "zip": "90028",
                    "city": "Los Angeles"
                }
            }, {
                "name": "angela",
                "age": 25,
                "address": {
                    "street": "1234 Tropicana blvd",
                    "zip": "89100",
                    "city": "Las Vegas"
                }
            }, {
                "name": "carol",
                "age": 52,
                "address": {
                    "street": "4232 melrose ave",
                    "zip": "90029",
                    "city": "Los Angeles"
                }
            }, {
                "name": "jack",
                "age": 63,
                "address": {
                    "street": "1344 first street",
                    "zip": "90105",
                    "city": "Las Vegas"
                }
            }, {
                "name": "celine",
                "age": 21,
                "address": {
                    "street": "1344 first street",
                    "zip": "10003",
                    "city": "New York"
                }
            }, {
                "name": "Luke",
                "age": 74,
                "address": {
                    "street": "1344 first street",
                    "zip": "10105",
                    "city": "Bronx"
                }
            }, {
                "name": "martin",
                "age": 55,
                "address": {
                    "street": "1344 first street",
                    "zip": "10108",
                    "city": "Bronx"
                }

            }];

            //get the JSON object
            function getData()
            {
                return data;
            }
            
            //resets the table
            function resetTable()
            {
                if($("th").length)
                $("th").remove();

                if($("tbody").children().length)
                {
                    $("tbody").children("tr").remove();
                    $("tbody").children("td").remove();
                }

                
                

            }
            
            //returns an array of data for a certain property
            function getDataArray(property)
            {
                var propertyArray =[];
                for (var i = 0; i < data.length; i++) {
                    propertyArray[i] = data[i][property];
                }
                
                return propertyArray;
            }
            
            //builds table rows and data
            function tbodyBuilder(array)
            {
                array.forEach(function(currentValue){
                $("tbody").append('<tr><td>'+ currentValue +'</td></tr>');    
                });
                
            }
            
            //add border
            function addBorder()
            {
                $("#tbl").css("border","1px solid black");
            }
            
            //remove border
            function removeBorder()
            {
                $("#tbl").css("border","");
            }
            
            
            //grabbing the filter element
            var filter = $("#filter");
            var filterOption;
            

            //when the filter is changed this handler is called
            $(filter).on('change', function (e) {
                var optionSelected = $("option:selected", this);
                filterOption = this.value;
                switch (filterOption) {
                    case 'name':
                        // code
                        resetTable();
                        var nameTableHead = $("<th>Name</th>", {id: "nameTableHead"});
                        $("thead > tr").append(nameTableHead);
                        
                        tbodyBuilder(getDataArray("name"));
                        
                        break;
        
                    case 'age':
                        // code
                        resetTable();
                        var ageTableHead = $("<th>Age</th>", {id: "ageTableHead"});
                        $("thead > tr").append(ageTableHead);
                        
                        tbodyBuilder(getDataArray("age"));
                                
                        break;
                    case 'address':
                        // code
                        resetTable();
                        var addressTableHead = $("<th>Address</th>", {id: "addressTableHead"});
                        $("thead > tr").append(addressTableHead);
                        
                        tbodyBuilder(getDataArray("address"));
                                
                        break;    
                    default:
                        // code
                        resetTable();
                        removeBorder();
                        break;
                }
                
            });
            
            //grabbing the border option element
            var filterCss = $("#filtercss");
            var filterCssOption;

            $(filterCss).on('change', function (e) {
                var optionSelected = $("option:selected", this);
                filterCssOption = this.value;
                
               
                
                switch (filterCssOption) {
                    case "wb":
                        // code
                        
                        
                        if($("tbody").children().length)
                        {
                            addBorder();    
                        }
                        
                        break;
                        
                    case "nb":
                        // code
               
                        removeBorder();
                        break;                        
                        
                    default:
                        // code
                        break;
                }
                
            });
                
                         


        });
    </script>
</head>

<body>
    <div id="loader" style="display:none;">
        <img class="ajax-loader" src="https://core.trac.wordpress.org/raw-attachment/ticket/21456/wpspin_light.gif" alt="just an image yo" />
    </div>
    <div id="ajaxresults"></div>
    <div id="msg">Please select a filter</div>
    <select id="filter">
        <option value="">Choose a filter</option>
            <option value="name">Name</option>
            <option value="age">age</option>
            <option value="address">Address</option>
    </select>

    <select id="filtercss">
        <option value="">Choose a style</option>
            <option value="wb">with cell border</option>
            <option value="nb">no cell border</option>
    </select>

    <table id="tbl" style="">
        <thead>
            <tr>
                
            </tr>
        </thead>
        <tbody>
            
        </tbody>
    </table>

</body>

</html>
